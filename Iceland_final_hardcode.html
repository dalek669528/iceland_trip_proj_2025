<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冰島追夢之旅 2025 - 行程儀表板</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            color: #E5E7EB; /* gray-200 */
        }
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-image: url('https://images.unsplash.com/photo-1533423929014-a3939f435889?q=80&w=2670&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
            filter: brightness(0.5);
        }
        .main-container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        @media (min-width: 640px) {
            .main-container {
                padding: 2rem;
            }
        }
        .glass-card {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem;
        }
        .day-tab {
            transition: all 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
        }
        .day-tab.active {
            background-color: #3B82F6;
            color: white;
        }
        .day-tab:not(.active):hover {
             background-color: #374151;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 1.125rem;
            top: 1.5rem;
            bottom: -0.5rem;
            width: 2px;
            background-color: #4B5563;
            transform: translateX(-50%);
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            position: absolute;
            left: 1.125rem;
            top: 1.5rem;
            width: 1rem;
            height: 1rem;
            border-radius: 9999px;
            background-color: #4B5563;
            border: 2px solid #1F2937;
            transform: translateX(-50%);
        }
        .tabs-container::-webkit-scrollbar {
            height: 6px;
        }
        .tabs-container::-webkit-scrollbar-track {
            background: #1F2937;
            border-radius: 10px;
        }
        .tabs-container::-webkit-scrollbar-thumb {
            background: #4B5563;
            border-radius: 10px;
        }
        .tabs-container::-webkit-scrollbar-thumb:hover {
            background: #6B7280;
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            margin: 5% auto;
            padding: 2rem;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
        }
        .modal-content h3 {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            margin-bottom: 1rem;
        }
        .modal-content h4 {
            font-size: 1.1rem;
            font-weight: bold;
            color: #93C5FD; /* blue-300 */
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .modal-content p {
            color: #D1D5DB; /* gray-300 */
            line-height: 1.75;
            margin-bottom: 1rem;
        }
        .modal-content ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            color: #D1D5DB;
        }
        .modal-content b {
            color: #F9A8D4; /* pink-300 */
        }
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            color: #9CA3AF;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        .modal-close:hover {
            color: #F9FAFB;
        }
    </style>
</head>
<body class="bg-gray-900">

    <div class="background-container"></div>

    <div class="main-container">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-white tracking-tight">冰島追夢之旅 2025</h1>
            <p class="text-base sm:text-lg text-gray-300 mt-2">行程總覽儀表板</p>
        </header>

        <!-- Day Navigation Tabs -->
        <nav class="mb-8">
            <div id="day-tabs" class="tabs-container flex items-center space-x-2 overflow-x-auto pb-2">
                <!-- Day tabs will be dynamically inserted here -->
            </div>
        </nav>

        <!-- Content Display Area -->
        <main id="content-display" class="glass-card p-4 sm:p-6 md:p-8">
            <!-- Initial state will be rendered here by script -->
            <div id="loading-state" class="flex flex-col justify-center items-center h-full min-h-[40vh] text-center">
                <h2 class="text-2xl font-bold text-white">歡迎來到您的冰島行程儀表板</h2>
                <p class="text-lg text-gray-400 mt-2">請從上方選擇一天來查看詳細行程。</p>
            </div>
        </main>
        
        <footer class="text-center mt-8 text-gray-400 text-sm">
            <p>行程規劃與深度指南</p>
        </footer>
    </div>
    
    <!-- Modal for Guide Content -->
    <div id="guide-modal" class="modal">
        <div class="modal-content glass-card">
            <span class="modal-close">&times;</span>
            <div id="modal-body">
                <!-- Guide content will be injected here -->
            </div>
        </div>
    </div>

    <script>
        // --- EMBEDDED DATA ---
        const guideContent = {
            "Blue Car Rental": {
                title: "Blue Car Rental 取車",
                content: `
                    <h4>流程概述</h4>
                    <p>抵達凱夫拉維克國際機場（KEF）後，您將前往入境大廳外的租車接駁車站點。接駁車服務時間為每日 05:00 至 18:00，約每 15 分鐘一班，將帶您前往租車區。</p>
                    <h4>車輛檢查</h4>
                    <p>強烈建議您的團隊在離開租車點前，對兩台車輛的狀況進行極其詳盡的記錄，使用帶有時間戳的照片和影片，完整拍攝車身的每一塊鈑金、所有玻璃窗和輪圈。</p>
                    <h4>專家視角：關鍵的第一步</h4>
                    <p>在冰島，租車不僅僅是一項簡單的交易，更是您整個旅程風險管理的第一個關鍵環節。冰島普遍存在的碎石路、變幻莫測的天氣以及潛在的輕微損傷風險，使得提車時的初步檢查和對保險條款的理解至關重要。</p>
                `
            },
            "藍湖溫泉": {
                title: "藍湖溫泉 (Blue Lagoon)",
                content: `
                    <h4>地質與科學：一個意外的綠洲</h4>
                    <p>藍湖的形成是一個美麗的意外，它是鄰近的斯瓦茨恩吉地熱發電廠的副產品。發電廠抽取地底深處的地熱海水發電後，將富含礦物質的熱水排入熔岩區。水中極高濃度的二氧化矽沉澱，封堵了熔岩的縫隙，無意中創造了這個潟湖。其標誌性的乳藍色是一種光學現象，由水中的二氧化矽分子反射陽光中的藍光所致。</p>
                    <h4>歷史與文化：從牛皮癬療方到全球地標</h4>
                    <p>1981年，一位牛皮癬患者在此沐浴後發現其療癒功效，消息不脛而走。1987年首個公共設施開放，逐漸發展成今日的全球地標。</p>
                    <h4>遊玩建議</h4>
                    <ul>
                        <li>務必提前預約。</li>
                        <li>大件行李需付費寄存在主設施外。</li>
                        <li>電子手環是儲物櫃鑰匙和消費錢包。</li>
                        <li><b>頭髮護理關鍵提示</b>：下水前，將免費護髮素大量塗抹在頭髮上並盤起，<b>不要沖洗掉</b>，以防頭髮乾澀。</li>
                    </ul>
                `
            },
            "Costco": {
                title: "策略性補給：Costco",
                content: `
                    <h4>採購策略</h4>
                    <p>對於大型團體而言，在 Costco 購物是極具成本效益的選擇。您可以使用來自任何國家的會員卡。</p>
                    <p><b>優先採購</b>：汽油（比其他加油站便宜許多）、散裝零食、早餐食品和飲品。</p>
                    <h4>專家視角：超市比較</h4>
                    <p>Costco 的優勢在於首次大型補給與加油。日常補充可考慮 Bónus (最經濟) 或 Krónan (品項較豐富)。</p>
                `
            },
            "哈爾格林姆教堂": {
                title: "哈爾格林姆教堂 (Hallgrímskirkja)",
                content: `
                    <h4>地質與建築靈感</h4>
                    <p>由國家建築師古德永·薩姆埃松設計，其階梯狀的混凝土立面，是對冰島自然景觀中玄武岩柱的直接建築詮釋，靈感來源於斯瓦蒂佛斯瀑布。</p>
                    <h4>遊玩建議</h4>
                    <p>搭乘電梯登上74.5公尺高的觀景塔是絕對推薦的體驗，可以俯瞰城市色彩繽紛的屋頂。教堂前方的雕像是探險家萊夫·埃里克松，是美國於1930年贈送的禮物。</p>
                `
            },
            "Laugavegur 主街": {
                title: "Laugavegur 主街 & 66°NORTH",
                content: `
                    <h4>簡介</h4>
                    <p>Laugavegur 是雷克雅維克的商業與社交動脈，其名稱意為「洗衣路」，源於過去婦女們沿此路前往溫泉洗衣的歷史。</p>
                    <h4>購物推薦 — 66°NORTH</h4>
                    <p>這是購買高品質冰島戶外服飾的絕佳選擇。該品牌於1926年創立，最初為冰島漁民製造防護服，如今已成為冰島耐用性與設計的象徵。</p>
                    <h4>專家視角：作為文化載體的紀念品</h4>
                    <p>購買像 66°NORTH 外套或傳統的 Lopapeysa 羊毛衣這樣的物品，不僅僅是一種零售體驗，更是一種文化參與。這些物品誕生於冰島嚴酷環境下，代表著與這個國家生存與智慧歷史的直接聯繫。</p>
                `
            },
            "哈帕音樂廳": {
                title: "哈帕音樂廳 (Harpa Concert Hall)",
                content: `
                    <h4>地質與建築靈感</h4>
                    <p>由藝術家奧拉佛·艾里亞森等人合作設計，其獨特的玻璃幕牆靈感來自冰島的玄武岩柱晶體結構和北極光。其建設因2008年金融危機而聞名於世，完工後成為冰島韌性的象徵。</p>
                    <h4>遊玩建議</h4>
                    <p>在建築內外漫步是最佳的體驗方式。光線穿過玻璃面板的互動效果，會因您的視角和一天中時間的不同而產生截然不同的體驗。建築內部提供了俯瞰舊港口和埃斯亞山（Mount Esja）的絕佳視野。</p>
                `
            },
            "舊港口": {
                title: "舊港口與傳奇熱狗",
                content: `
                    <h4>舊港口 (Old Harbour)</h4>
                    <p>舊港口是雷克雅維克發展的搖籃，如今是一個充滿活力的區域，歷史與現代旅遊在此交匯。漁船與賞鯨船並排停泊，相映成趣。</p>
                    <h4>Bæjarins Beztu Pylsur（鎮上最好吃的熱狗）</h4>
                    <p>造訪這個傳奇熱狗攤是一次典型的雷克雅維克體驗。這個不起眼的小攤自1937年以來一直營業至今。冰島熱狗主要由羊肉製成，最經典的點法是「eina með öllu」（一樣全加）。</p>
                `
            },
            "辛格維利爾國家公園": {
                title: "辛格維利爾國家公園 (Þingvellir)",
                content: `
                    <h4>地質與科學：行走於兩大洲之間</h4>
                    <p>辛格維利爾正好位於大西洋中洋脊的裂谷帶，這裡是北美板塊與歐亞板塊的分界線。這兩個板塊正以每年約 2.5 公分的速度分離，形成了壯觀的裂縫和斷層。您可以在阿爾曼納峽谷（Almannagjá）中行走，親身體驗「漫步在兩大洲之間」。</p>
                    <h4>歷史與文化：國家的誕生地</h4>
                    <p>西元930年，維京定居者在此建立了世界上最古老的議會（Althing），這裡因此成為冰島民主和民族認同的起源。1944年，冰島共和國也正是在此地正式宣布成立。</p>
                `
            },
            "蓋錫爾間歇泉": {
                title: "蓋錫爾間歇泉 (Geysir)",
                content: `
                    <h4>地質與科學：噴發的機制</h4>
                    <p>間歇泉的形成需要三個條件：強烈的熱源、地下水源和一個複雜的管道系統。水被加熱到遠超沸點的溫度，但上方水柱的壓力使其無法立即汽化。最終，頂部的一些水閃蒸成蒸汽，劇烈膨脹，將整個水柱猛烈地噴射到空中。</p>
                    <h4>遊玩建議</h4>
                    <p>如今，該地區的明星是史托克間歇泉（Strokkur），它每 6-10 分鐘噴發一次。噴發前水面會呈現美麗的藍色穹頂，這是絕佳的拍照時機。請務必站在安全繩索之外，以免被高溫熱水燙傷。</p>
                `
            },
            "古佛斯瀑布": {
                title: "古佛斯瀑布 (Gullfoss)",
                content: `
                    <h4>地質與科學</h4>
                    <p>古佛斯瀑布（意為「黃金瀑布」）由朗格冰川融水匯成的白河（Hvítá）在此分兩級壯觀地注入深邃的峽谷。峽谷是由災難性的冰川潰決洪水（jökulhlaups）雕刻而成。</p>
                    <h4>歷史與文化：環保鬥士的傳說</h4>
                    <p>20世紀初，當地女子Sigríður Tómasdóttir為反對在此興建水電廠而奮鬥，她的努力最終保護了瀑布，被譽為冰島第一位環保主義者。</p>
                `
            },
            "塞里雅蘭瀑布": {
                title: "塞里雅蘭瀑布 (Seljalandsfoss)",
                content: `
                    <h4>簡介與地質</h4>
                    <p>這座高60公尺的優雅瀑布最獨特之處在於可以沿著小徑走到水幕後方。它所傾瀉而下的懸崖曾是冰島的海岸線，後因冰後回彈作用使陸地抬升，將古老的海岸線遺留在內陸深處。</p>
                    <h4>遊玩建議</h4>
                    <p>瀑布後方的小徑不長，但水氣會浸濕衣物，防水衣物和防滑的鞋子是必需品。十月份路面可能結冰，步道可能會關閉，請務必尊重任何關閉標示。</p>
                `
            },
            "斯科加爾瀑布": {
                title: "斯科加爾瀑布 (Skógafoss)",
                content: `
                    <h4>簡介與傳說</h4>
                    <p>一座氣勢磅礴的經典瀑布，高60公尺，寬25公尺。巨大的水氣在晴天時常會形成單道甚至雙道彩虹。傳說中，該地區最早的維京定居者在瀑布後方的洞穴裡埋藏了一個裝滿黃金的寶箱。您可以攀登旁邊超過400階的階梯至頂部觀景。</p>
                `
            },
            "黑沙灘": {
                title: "雷尼斯黑沙灘 (Reynisfjara)",
                content: `
                    <h4>地質與傳說</h4>
                    <p>黑沙是火山熔岩遇海水迅速冷卻後經侵蝕形成的玄武岩碎片。岸邊的柱狀玄武岩是熔岩緩慢冷卻時收縮形成的。民間傳說稱，海蝕柱是兩隻試圖將一艘三桅帆船拖上岸的巨魔，因來不及在日出前完成工作而被陽光石化而成。</p>
                    <h4>極度重要的安全警告</h4>
                    <p>雷尼斯黑沙灘是冰島最危險的海灘，其致命威脅來自於「瘋狗浪」(Sneaker Waves)。這是一種無法預測、威力異常巨大的海浪，已發生多起致命悲劇。</p>
                    <ul>
                        <li><b>永遠不要背對海洋。</b></li>
                        <li>與水邊保持至少30-50公尺的安全距離。</li>
                        <li>遵守所有警示標示。</li>
                    </ul>
                `
            },
            "迪霍拉里": {
                title: "迪霍拉里 (Dyrhólaey)",
                content: `
                    <h4>地質與野生動物</h4>
                    <p>這座高 120 公尺的岬角源於火山活動，以其巨大的海蝕拱門而聞名。這裡是重要的鳥類保護區，但您旅行的十月份，著名的海鸚(Puffin)已經返回大海過冬。不過從頂部可以安全地欣賞到雷尼斯黑沙灘和米達爾斯冰川的全景。</p>
                `
            },
            "羽毛峽谷": {
                title: "羽毛峽谷 (Fjaðrárgljúfur)",
                content: `
                    <h4>地質與「比伯效應」</h4>
                    <p>峽谷的基岩主要是約兩百萬年前形成的枕狀熔岩，本身則是在上一個冰河時期末期被冰川融水雕刻而成。這個峽谷在出現在賈斯汀·比伯的音樂錄影帶中之前，相對不為人知。隨後遊客的激增對脆弱的植被造成了嚴重破壞，迫使當局暫時關閉峽谷。請務必留在標示的步道上。</p>
                `
            },
            "冰川健行": {
                title: "冰川健行 (Glacier Wonders)",
                content: `
                    <h4>體驗簡介</h4>
                    <p>您將在專業嚮導帶領下，穿上冰爪，探索由冰雕、深邃冰隙構成的世界。這是一次與古老冰川的直接、親密接觸，同時也是了解冰川學以及氣候變遷影響的實地課程。</p>
                    <h4>裝備建議</h4>
                    <p>必須穿著堅固、防水的登山靴、保暖的多層衣物和防水外層。太陽眼鏡也必不可少，因為冰面的反光可能非常強烈。</p>
                `
            },
            "鑽石沙灘": {
                title: "傑古沙龍冰河湖 & 鑽石沙灘",
                content: `
                    <h4>地質與科學：一個動態的地景</h4>
                    <p>傑古沙龍冰河湖是一個非常年輕的地質特徵，約在1934年開始形成，是氣候變遷的直接且可見的指標。巨大的冰塊從冰川崩解並漂浮在湖中。這些冰塊有些已有超過千年的歷史，被沖上鄰近的黑沙灘，形成了鑽石沙灘的奇景。</p>
                    <h4>遊玩建議</h4>
                    <p>日落時分是攝影的絕佳時機，因為低角度的光線會照亮冰塊。隨著新的冰塊漂來和潮汐的變化，這裡的景觀不斷變幻。</p>
                `
            },
            "冰河健行與冰河船": {
                title: "冰川魔法 (Glacier Magic) 全日活動",
                content: `
                    <h4>行程分析</h4>
                    <p>此活動結合了約4小時的冰川健行和2小時的傑古沙龍冰河湖Zodiac快艇遊覽。實際體驗將由兩個獨立的部分組成。</p>
                    <h4>專家視角：組合行程的價值</h4>
                    <p>在同一天內參加冰川健行和冰河湖船遊，提供了一種對冰川系統的整體理解。您將從上方（微觀層面）和從下方（宏觀層面）兩個根本不同的視角體驗冰川，將「因」（冰川）與「果」（潟湖）聯繫起來。</p>
                `
            },
            "霍夫": {
                title: "赫本 (Höfn)：冰島的龍蝦之都",
                content: `
                    <h4>簡介</h4>
                    <p>赫本的名稱字面意思即為「港口」，它在全冰島以其美味的挪威海螯蝦（通常被稱為冰島龍蝦）而聞名。每年七月，小鎮都會舉辦龍蝦節以示慶祝。</p>
                    <h4>餐飲推薦</h4>
                    <ul>
                        <li>Humarhöfnin（龍蝦港）</li>
                        <li>Pakkhúsið</li>
                        <li>Kaffi Hornið</li>
                    </ul>
                `
            },
            "埃伊爾斯塔濟": {
                title: "埃伊爾斯塔濟 (Egilsstaðir)：東部樞紐",
                content: `
                    <h4>簡介</h4>
                    <p>與峽灣沿岸的古老漁村不同，埃伊爾斯塔濟是一個相對年輕的城鎮，成立於 1947 年，旨在成為該地區的服務和交通樞紐。它坐落在拉加爾湖（Lagarfljót）畔，該湖因傳說中的水怪「拉加爾湖蠕蟲」而聞名。</p>
                `
            },
            "塞濟斯菲厄澤": {
                title: "塞濟斯菲厄澤 (Seyðisfjörður)：峽灣中的藝術明珠",
                content: `
                    <h4>彩虹街與藍色教堂</h4>
                    <p>小鎮最具標誌性的多彩木屋，許多都是在19世紀由挪威商人建造的。通往藍色教堂的彩虹路最初是為支持驕傲遊行而發起的社區活動，如今已成為東冰島最受歡迎的攝影地標之一。</p>
                    <h4>駕駛安全</h4>
                    <p>通往此地的93號公路在十月可能會有積雪。這條山口公路海拔較高，常有濃霧，能見度極低，駕駛需格外小心。務必在出發前查詢 road.is。</p>
                `
            },
             "胡薩維克": {
                title: "胡薩維克 (Húsavík)：冰島的觀鯨之都",
                content: `
                    <h4>觀鯨文化</h4>
                    <p>斯喬爾萬迪灣豐富的生態系統使其成為鯨魚的理想覓食地。雖然夏季是觀鯨旺季，但十月份仍有很高的機會看到鯨魚。推薦參觀鯨魚博物館，館內展出了 11 副完整的鯨魚骨架。</p>
                `
            },
            "黛提瀑布": {
                title: "黛提瀑布 (Dettifoss)：歐洲最強大的瀑布",
                content: `
                    <h4>地質與科學</h4>
                    <p>黛提瀑布是歐洲水量最大、最強大的瀑布。其巨大的水量和力量源於災難性的史前冰川潰決洪水，這些洪水由瓦特納冰川下的火山爆發引發，雕刻出了宏偉的峽谷。</p>
                    <h4>遊玩建議</h4>
                    <p>建議走 862 號公路前往西岸觀景點。862 號公路南段是柏油路，全年大部分時間開放。西岸的步道設施較為完善，但水氣較大，請穿著防水衣物。</p>
                `
            },
            "克拉夫拉火山": {
                title: "克拉夫拉火山區與維提火山口湖",
                content: `
                    <h4>地質與科學：克拉夫拉之火</h4>
                    <p>克拉夫拉是冰島最活躍的火山區之一。最近一次的大規模火山活動是1975-1984年的「克拉夫拉之火」，形成了今天仍然冒著蒸汽的 Leirhnjúkur 熔岩區。</p>
                     <h4>維提火山口湖 (Víti Crater)</h4>
                    <p>「Víti」在冰島語中意為「地獄」，這個名字源於其在 1724 年劇烈爆發時的恐怖景象。如今充滿了美麗的藍綠色湖水。</p>
                `
            },
            "眾神瀑布": {
                title: "眾神瀑布 (Goðafoss)：信仰的轉捩點",
                content: `
                    <h4>歷史與文化：冰島的基督教化</h4>
                    <p>西元 1000 年，冰島議會面臨著一場宗教危機。當時的法律宣講人 Þorgeir Ljósvetningagoði，被賦予了決定國家信仰的重任。他宣布冰島將正式成為基督教國家。根據傳說，他在返回家的途中，將他所擁有的北歐舊神雕像投入這座瀑布，瀑布也因此得名。</p>
                `
            },
            "犀牛岩": {
                title: "犀牛岩 (Hvítserkur)",
                content: `
                    <h4>地質與傳說</h4>
                    <p>這是一座高 15 公尺的海蝕柱，其獨特的形狀酷似一頭正在飲水的犀牛。其名稱「Hvítserkur」（意為「白襯衫」）來源於常年覆蓋在岩石上的鳥糞。傳說犀牛岩是一個試圖摧毀附近修道院鐘聲的巨魔，因沒來得及在日出前躲藏而被陽光石化。</p>
                `
            },
            "斯蒂基斯霍爾米": {
                title: "斯蒂基斯霍爾米 (Stykkishólmur)：半島的門戶",
                content: `
                    <h4>主要景點</h4>
                    <ul>
                        <li><b>斯蒂基斯霍爾米教堂</b>：一座現代主義教堂，設計靈感據說來自冰川後的太陽。</li>
                        <li><b>挪威人之家</b>：冰島最古老的兩層木結構建築，現為地區博物館。</li>
                        <li><b>水之圖書館</b>：由美國藝術家 Roni Horn 創作的獨特藝術裝置，24 根裝有來自冰島各個冰川融水的玻璃柱。</li>
                    </ul>
                `
            },
            "阿爾納斯塔皮": {
                title: "阿爾納斯塔皮 (Arnarstapi) 與赫爾納 (Hellnar)",
                content: `
                    <h4>海岸步道</h4>
                    <p>這兩個相鄰的古老漁村由一條約 2.5 公里的壯觀海岸步道相連。這條步道穿過一片古老熔岩區，沿途可以欣賞到奇特的玄武岩柱、海蝕洞和海蝕拱門，其中最著名的是 Gatklettur 海蝕拱門。</p>
                `
            },
            "布迪爾黑教堂": {
                title: "布迪爾黑教堂 (Búðakirkja)",
                content: `
                    <h4>簡介</h4>
                    <p>這座孤零零矗立在 Búðahraun 熔岩區中的黑色木製教堂，是冰島最受歡迎的攝影地標之一。最初的教堂建於 1703 年，現在的教堂是 1987 年按原樣修復的。</p>
                `
            },
            "海豹沙灘": {
                title: "海豹沙灘 (Ytri Tunga)",
                content: `
                     <h4>觀賞海豹</h4>
                    <p>與冰島常見的黑沙灘不同，Ytri Tunga 以其金色的沙灘和作為海豹棲息地而聞名。最佳觀賞時間是夏季的退潮時分，海豹會爬上岩石曬太陽。十月份仍有機會看到牠們。請務必與海豹保持安全距離。</p>
                `
            },
            "博爾加內斯": {
                title: "博爾加內斯 (Borgarnes)：薩迦歷史的門戶",
                content: `
                    <h4>定居中心 (The Settlement Centre)</h4>
                    <p>這是了解冰島早期歷史的必訪之地。博物館設有兩個展覽：一個生動地再現了維京人發現並定居冰島的過程；另一個則深入講述了《埃吉爾傳奇》中維京詩人兼戰士埃吉爾·斯卡德拉格里姆松的生平故事。</p>
                `
            },
            "Sky Lagoon": {
                title: "天空潟湖 (Sky Lagoon)：七步儀式",
                content: `
                    <h4>七步儀式 (The 7-Step Ritual)</h4>
                    <p>這是一套源於冰島傳統沐浴文化的完整水療流程，旨在讓身心得到徹底的放鬆與煥新。</p>
                    <ol style="list-style-type: decimal; padding-left: 1.5rem;">
                        <li><b>潟湖</b>：在溫暖的地熱潟湖中放鬆身心。</li>
                        <li><b>冷水浸泡</b>：進入冷水池，煥發精神。</li>
                        <li><b>桑拿</b>：在擁有巨大觀景窗的桑拿房中，讓熱氣打開毛孔。</li>
                        <li><b>冷霧</b>：穿過清涼的冷霧空間，平衡體溫。</li>
                        <li><b>天空磨砂</b>：塗抹特製的海鹽身體磨砂膏。</li>
                        <li><b>蒸汽房</b>：讓皮膚充分吸收養分。</li>
                        <li><b>淋浴與放鬆</b>：再次回到溫暖的潟湖中，感受煥然一新。</li>
                    </ol>
                `
            }
        };

        const itineraryData = [
            {"day": "一", "date": "10 月 11 日 (六)", "title": "抵達冰島，溫泉與市區補給", "events": [{"time": "08:00", "activity": "抵達 凱夫拉維克國際機場 (KEF)", "notes": "抵達後，領取行李並準備前往租車公司。"}, {"time": "08:30-09:30", "activity": "前往 Blue Car Rental 取車", "notes": "租車：已租用兩台 Rav4，確保行李與乘坐空間充足。"}, {"time": "11:00-13:00", "activity": "藍湖溫泉體驗", "notes": "已提前預約 11:00 入場。盡情放鬆身心。"}, {"time": "14:00-16:00", "activity": "Costco 與 IKEA 採買", "notes": "由於團隊人數較多，在 Costco 採買會更划算。"}, {"time": "17:00-18:00", "activity": "Airbnb 入住", "notes": "安頓行李，短暫休息。"}, {"time": "18:00-19:00", "activity": "雷克雅維克市區自由活動", "notes": "探索市中心，可步行前往哈爾格林姆教堂、太陽航海者等景點。"}, {"time": "19:00", "activity": "晚餐時間", "notes": "在市中心享用晚餐，體驗冰島在地美食。"}]},
            {"day": "二", "date": "10 月 12 日 (日)", "title": "悠閒探索雷克雅維克市區", "events": [{"time": "09:00-10:00", "activity": "在 Airbnb 享用早餐", "notes": "自炊早餐，可以節省開銷，也更具彈性。"}, {"time": "10:00-11:00", "activity": "前往哈爾格林姆教堂", "notes": "可搭電梯至頂樓鳥瞰市區，非常適合團體拍照留念。"}, {"time": "11:00-12:30", "activity": "逛街與漫步", "notes": "從教堂前往主街 Laugavegur，是尋找紀念品與特色商店的好去處。"}, {"time": "12:30-14:00", "activity": "午餐時間", "notes": "可選擇在市區餐廳用餐，或是在港口邊享用當地特色熱狗。"}, {"time": "14:00-15:30", "activity": "前往哈帕音樂廳", "notes": "欣賞建築之美，並從內部觀賞舊港口風景。"}, {"time": "15:30-17:00", "activity": "舊港口漫步", "notes": "可以在舊港口散步，欣賞漁船與海景。"}, {"time": "18:00", "activity": "晚餐時間", "notes": "可在市區享受晚餐，或在 Airbnb 準備晚餐。"}]},
            {"day": "三", "date": "10 月 13 日 (一)", "title": "黃金圈與南岸精華", "events": [{"time": "08:00", "activity": "從 雷克雅維克市區 出發", "notes": "為今天的長途駕駛和多個景點預留充足時間。"}, {"time": "08:45-10:00", "activity": "辛格維利爾國家公園", "notes": "建議步行路線：停車場（P1）→ 板塊裂縫峽谷步道 → 觀景台。"}, {"time": "11:00-11:45", "activity": "蓋錫爾間歇泉", "notes": "等待間歇泉噴發。"}, {"time": "12:00-13:00", "activity": "古佛斯瀑布", "notes": "瀑布氣勢磅礡，需特別注意地面濕滑。"}, {"time": "13:00-14:00", "activity": "午餐時間", "notes": "建議在古佛斯瀑布的餐廳用餐，節省時間。"}, {"time": "15:30-16:00", "activity": "塞里雅蘭瀑布", "notes": "瀑布水量大，請小心地濕。十月水量較大，不建議繞行至瀑布後方。"}, {"time": "16:30-17:00", "activity": "斯科加爾瀑布", "notes": "冰島最經典的瀑布之一。可爬上階梯從高處俯瞰全景。"}, {"time": "17:30-18:00", "activity": "前往 黑沙灘 (Reynisfjara)", "notes": "注意日落時間。建議在天黑前抵達。"}, {"time": "18:15", "activity": "抵達 維克", "notes": "入住維克住宿 - The Barn。"}]},
            {"day": "四", "date": "10 月 14 日 (二)", "title": "冰川健行與冰河湖巡禮", "events": [{"time": "08:00", "activity": "從 維克 出發", "notes": "務必提早出發，為中途的景點預留充足時間。"}, {"time": "08:20-09:00", "activity": "迪霍拉里 (Dyrhólaey)", "notes": "早上光線較好，適合觀賞海蝕洞與燈塔。"}, {"time": "10:00-11:00", "activity": "羽毛峽谷 (Fjaðrárgljúfur)", "notes": "彈性選擇：若時間不足，可直接前往冰川健行集合地點。"}, {"time": "12:20-13:00", "activity": "報到、領取裝備、簡報", "notes": "必須在 12:40 前抵達！"}, {"time": "13:00-17:00", "activity": "「Glacier Wonders」冰川健行", "notes": "盡情享受冰川上的奇景。"}, {"time": "17:45-18:15", "activity": "抵達 鑽石沙灘", "notes": "在鑽石沙灘上尋找閃閃發光的浮冰。"}, {"time": "18:30", "activity": "抵達 哈利鄉村旅館", "notes": "入住住宿地點，享用晚餐。"}]},
            {"day": "五", "date": "10 月 15 日 (三)", "title": "冰河船與東南岸的寧靜小鎮", "events": [{"time": "09:00-16:00", "activity": "「Glacier Magic」冰河健行與冰河船", "notes": "此為全日行程，包含午餐時間。"}, {"time": "17:00", "activity": "抵達 霍夫 (Höfn)，自由活動", "notes": "您可以探索這個美麗的小鎮，並在傍晚時分尋找當地的特色餐廳。"}, {"time": "18:30", "activity": "晚餐時間", "notes": "霍夫以新鮮龍蝦聞名，非常推薦您品嚐。"}]},
            {"day": "六", "date": "10 月 16 日 (四)", "title": "東部峽灣的挑戰與美景", "events": [{"time": "08:00", "activity": "從 霍夫 (Höfn) 出發", "notes": "今天是長途車程，務必提早出發。"}, {"time": "11:30-12:30", "activity": "在 埃伊爾斯塔濟 用午餐", "notes": "建議在此地用餐，並稍作休息。"}, {"time": "13:00-14:00", "activity": "塞濟斯菲厄澤小鎮探索", "notes": "欣賞這個美麗的東部小鎮，著名的彩虹階梯就在這裡。"}, {"time": "15:00-17:30", "activity": "前往 雷恰利茲 (Reykjahlíð) 補給", "notes": "這裡有小型超市和加油站。"}, {"time": "18:00", "activity": "抵達 Guesthouse Helluland", "notes": "入住住宿地點，並在夜晚尋找極光。"}]},
            {"day": "七", "date": "10 月 17 日 (五)", "title": "米湖地區與北部溫泉", "events": [{"time": "08:30-9:30", "activity": "胡薩維克（Húsavík）", "notes": "前往這個知名的賞鯨小鎮。"}, {"time": "11:00-12:00", "activity": "前往 黛提瀑布（Dettifoss）", "notes": "建議走862公路前往西岸觀景點。"}, {"time": "13:30-14:30", "activity": "克拉夫拉火山與維提火山湖探索", "notes": "近距離欣賞這座火山與美麗的火山口湖。"}, {"time": "15:30-17:00", "activity": "眾神瀑布 (Goðafoss)", "notes": "從不同角度觀賞這座優美的瀑布。"}, {"time": "17:30", "activity": "抵達 阿克雷里", "notes": "入住住宿地點，並在市區進行自由活動。"}]},
            {"day": "八", "date": "10 月 18 日 (六)", "title": "北部景點與西部峽谷", "events": [{"time": "09:30-11:00", "activity": "阿克雷里市區探索 或 眾神瀑布 (Goðafoss)", "notes": "可利用這天早上從不同角度觀賞眾神瀑布。"}, {"time": "13:00-15:30", "activity": "方案二：犀牛岩 (Hvítserkur)", "notes": "開往犀牛岩的車程，路段可能較為顛簸。"}, {"time": "15:30-17:00", "activity": "景點停留時間", "notes": "在景點盡情拍照，享受風景。"}, {"time": "18:30", "activity": "抵達 布扎達呂爾 (Búðardalur)", "notes": "安頓行李，並在小鎮進行補給。"}]},
            {"day": "九", "date": "10 月 19 日 (日)", "title": "斯奈山半島全日探索 (逆時針)", "events": [{"time": "10:30-11:30", "activity": "前往 斯蒂基斯霍爾米 (Stykkishólmur)", "notes": "可以逛逛這個小鎮，及前往小鎮的超市採買。"}, {"time": "12:00-12:30", "activity": "教會山 (Kirkjufell)", "notes": "欣賞斯奈山半島最上鏡的山脈。"}, {"time": "14:00-15:30", "activity": "黑沙灘、怪物海岸、阿爾納斯塔皮", "notes": "可以在這幾個半島西南岸的景點逛逛，欣賞海岸線的玄武岩奇景。"}, {"time": "16:00-16:30", "activity": "布迪爾黑教堂 或 海豹沙灘", "notes": "斯奈山半島上知名的地標，或是前往海豹沙灘，觀察海豹的棲息。"}, {"time": "18:00", "activity": "抵達 斯奈山半島住宿", "notes": "辦理入住，在住宿處準備晚餐。"}]},
            {"day": "十", "date": "10 月 20 日 (一)", "title": "返回雷克雅維克", "events": [{"time": "10:00-12:00", "activity": "博爾加內斯 (Borgarnes)", "notes": "在小鎮休息、用午餐，並欣賞海岸線風光。"}, {"time": "13:30", "activity": "抵達 雷克雅維克", "notes": "入住奧丁斯維酒店 (Hotel Odinsve)。"}, {"time": "14:30", "activity": "雷克雅維克市區自由活動", "notes": "享受在市區的最後時光，購買紀念品或享受美食。"}, {"time": "19:00", "activity": "晚餐時間", "notes": "可在市中心享用晚餐，好好享受在冰島的最後一晚。"}]},
            {"day": "十一", "date": "10 月 21 日 (二)", "title": "悠閒與返程", "events": [{"time": "09:00", "activity": "在 雷克雅維克 自由活動", "notes": "在市區享用悠閒早餐。"}, {"time": "10:00", "activity": "Sky Lagoon 溫泉體驗", "notes": "在溫泉中盡情放鬆身心。"}, {"time": "14:00", "activity": "前往 凱夫拉維克國際機場 (KEF)", "notes": "提早前往機場，準備還車。"}, {"time": "14:40", "activity": "Blue Car Rental 還車", "notes": "還車並辦理登機手續。"}]},
            {"day": "十二", "date": "10 月 22 日 (三)", "title": "抵達台北", "events": [{"time": "全天", "activity": "轉機與返程", "notes": "抵達桃園國際機場，結束美好旅程。"}]}
        ];
        
        const accommodationMap = {
            "10/11": {"region": "雷克雅維克 Reykjavik", "platform": "AirBnb", "name": "Bergþórugata 35", "roomType": "整棟", "parking": "路邊", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/zGtwcjfEUzn76h9S8"},
            "10/12": {"region": "雷克雅維克 Reykjavik", "platform": "AirBnb", "name": "Bergþórugata 35", "roomType": "整棟", "parking": "路邊", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/zGtwcjfEUzn76h9S8"},
            "10/13": {"region": "Vik", "platform": "Booking", "name": "The Barn", "roomType": "雙人房*1 + 6床房", "parking": "v", "kitchen": "共用廚房", "mapLink": "https://maps.app.goo.gl/GiVajEPkb1DoUQFG7"},
            "10/14": {"region": "Hali", "platform": "Booking", "name": "哈利鄉村酒店", "roomType": "雙人房*2 + 獨棟*2", "parking": "v", "kitchen": "其中一間有", "mapLink": "https://maps.app.goo.gl/P26FPQSv5o6DLKVFA"},
            "10/15": {"region": "赫本 Hofn", "platform": "Booking", "name": "The Greyhouse", "roomType": "整棟", "parking": "v", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/6eaKZhXkfskmX3hj9"},
            "10/16": {"region": "胡薩維克", "platform": "AirBnb", "name": "Helluland 641", "roomType": "整棟", "parking": "v", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/Jz4Un38SdRKWDjkq8"},
            "10/17": {"region": "阿克雷里 Akureyri", "platform": "Booking", "name": "E18 Apartments", "roomType": "四人房+雙人房*2", "parking": "v", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/H7Vo2usTx7NjdGvM7"},
            "10/18": {"region": "布扎達呂爾 Búðardalur", "platform": "Booking", "name": "城堡民宿", "roomType": "四人房+雙人房*2", "parking": "v", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/aa8HjXru6pbMJayA8"},
            "10/19": {"region": "阿爾納斯塔皮 Arnarstapi", "platform": "Booking", "name": "Grund", "roomType": "整棟", "parking": "v", "kitchen": "v", "mapLink": "https://maps.app.goo.gl/XXK1bGmvcAvS782w8"},
            "10/20": {"region": "雷克雅維克 Reykjavik", "platform": "Booking", "name": "奧丁斯維酒店", "roomType": "雙人房*4", "parking": "路邊", "kitchen": "x", "mapLink": "https://maps.app.goo.gl/tdSRB1K34M7VELtw5"},
        };

        // --- DOM ELEMENTS ---
        const dayTabsContainer = document.getElementById('day-tabs');
        const contentDisplay = document.getElementById('content-display');
        const modal = document.getElementById('guide-modal');
        const modalBody = document.getElementById('modal-body');
        const closeModalBtn = document.querySelector('.modal-close');

        // --- RENDERING LOGIC ---
        function renderDayDetails(dayData, accommodationData) {
            const itineraryHtml = `
                <div class="mb-8 lg:mb-0">
                    <h3 class="text-xl sm:text-2xl font-bold text-white mb-4 flex items-center">
                        <i data-lucide="list-checks" class="w-6 h-6 mr-3 text-blue-400"></i>
                        行程安排
                    </h3>
                    <div class="relative pl-8">
                        ${dayData.events.map(event => {
                            // Find a keyword in the activity to link to guide content
                            const guideKey = Object.keys(guideContent).find(key => event.activity.includes(key));
                            return `
                            <div class="timeline-item relative pl-8 pb-8">
                                <div class="timeline-dot"></div>
                                <p class="text-blue-300 font-semibold">${event.time}</p>
                                <h4 class="text-lg font-semibold text-gray-100 mt-1 flex items-center">
                                    ${event.activity}
                                    ${guideKey ? `<button class="guide-btn inline-block ml-3 text-yellow-400 hover:text-yellow-300" data-guide-key="${guideKey}"><i data-lucide="book-open" class="w-5 h-5"></i></button>` : ''}
                                </h4>
                                ${event.notes ? `<p class="text-gray-400 mt-1 text-sm">${event.notes}</p>` : ''}
                            </div>
                        `}).join('')}
                    </div>
                </div>`;
            
            const accommodationHtml = accommodationData ? `
                <div>
                    <h3 class="text-xl sm:text-2xl font-bold text-white mb-4 flex items-center">
                        <i data-lucide="home" class="w-6 h-6 mr-3 text-green-400"></i>
                        今晚住宿
                    </h3>
                    <div class="bg-gray-800 p-4 sm:p-6 rounded-lg border border-gray-700">
                        <div class="flex justify-between items-start">
                             <h4 class="text-lg sm:text-xl font-bold text-white">${accommodationData.region}</h4>
                             <span class="text-sm font-medium ${accommodationData.platform === 'AirBnb' ? 'bg-pink-600' : 'bg-blue-600'} text-white px-2 py-1 rounded-full">${accommodationData.platform}</span>
                        </div>
                        <p class="text-gray-300 mt-1 mb-4 font-semibold text-sm sm:text-base">${accommodationData.name}</p>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mt-4">
                            <div class="flex items-start"><i data-lucide="bed-double" class="w-4 h-4 mr-2 mt-1 text-gray-400 flex-shrink-0"></i><div><span class="font-semibold text-gray-300">房型:</span> ${accommodationData.roomType || 'N/A'}</div></div>
                            <div class="flex items-center"><i data-lucide="parking-circle" class="w-4 h-4 mr-2 text-gray-400"></i><span class="font-semibold text-gray-300">停車:</span> ${accommodationData.parking || 'N/A'}</div>
                            <div class="flex items-center"><i data-lucide="soup" class="w-4 h-4 mr-2 text-gray-400"></i><span class="font-semibold text-gray-300">廚房:</span> ${(accommodationData.kitchen && (accommodationData.kitchen.includes('v') || accommodationData.kitchen.includes('有'))) ? '提供' : '無'}</div>
                        </div>

                        <a href="${accommodationData.mapLink}" target="_blank" rel="noopener noreferrer" class="mt-6 flex items-center text-blue-400 hover:text-blue-300 transition-colors duration-200 text-sm">
                           <i data-lucide="map-pin" class="w-4 h-4 mr-2"></i>
                           <span class="underline">在 Google 地圖上查看</span>
                        </a>
                    </div>
                </div>
            ` : `
                 <div>
                    <h3 class="text-xl sm:text-2xl font-bold text-white mb-4 flex items-center">
                        <i data-lucide="moon-star" class="w-6 h-6 mr-3 text-purple-400"></i>
                        今晚住宿
                    </h3>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700 text-center">
                        <p class="text-gray-400">今天為返程日或無預定住宿。</p>
                    </div>
                </div>
            `;

            contentDisplay.innerHTML = `
                <h2 class="text-2xl sm:text-3xl font-bold text-white mb-1">第 ${dayData.day} 天: ${dayData.title}</h2>
                <p class="text-base sm:text-lg text-gray-400 mb-6 sm:mb-8">${dayData.date}</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    ${itineraryHtml}
                    ${accommodationHtml}
                </div>
            `;
            lucide.createIcons();
            addGuideButtonListeners();
        }
        
        // --- EVENT LISTENERS & INITIALIZATION ---
        
        function openGuideModal(key) {
            const data = guideContent[key];
            if (data) {
                modalBody.innerHTML = `<h3>${data.title}</h3>${data.content}`;
                modal.style.display = "block";
            }
        }

        function addGuideButtonListeners() {
            document.querySelectorAll('.guide-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    openGuideModal(btn.dataset.guideKey);
                });
            });
        }

        closeModalBtn.onclick = () => {
            modal.style.display = "none";
        };
        
        window.onclick = (event) => {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            dayTabsContainer.innerHTML = ''; 

            itineraryData.forEach((day, index) => {
                const tab = document.createElement('button');
                tab.className = 'day-tab px-4 py-2 rounded-lg text-sm font-semibold bg-gray-800 text-gray-300 border border-gray-700';
                tab.innerHTML = `第 ${day.day} 天 <span class="hidden sm:inline-block ml-2 text-gray-400">${day.date.split(' ')[0]}</span>`;
                tab.onclick = () => {
                    document.querySelectorAll('.day-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    const dateParts = day.date.match(/(\d+)\s*月\s*(\d+)/);
                    let accommodationDataForDay = null;
                    if(dateParts) {
                        const key = `${dateParts[1]}/${dateParts[2]}`;
                        accommodationDataForDay = accommodationMap[key];
                    }
                    renderDayDetails(day, accommodationDataForDay);
                };
                dayTabsContainer.appendChild(tab);
            });
            
            // Auto-select the first day on load
            if (dayTabsContainer.firstElementChild) {
                dayTabsContainer.firstElementChild.click();
            } else {
                 contentDisplay.innerHTML = `
                    <div class="flex flex-col justify-center items-center h-full min-h-[40vh] text-center">
                        <i data-lucide="alert-triangle" class="w-12 h-12 text-red-400 mb-4"></i>
                        <h3 class="text-xl font-bold text-red-300">無法載入行程資料</h3>
                        <p class="text-gray-400 mt-2">請確認資料格式是否正確。</p>
                    </div>`;
                 lucide.createIcons();
            }
        });
    </script>
</body>
</html>

