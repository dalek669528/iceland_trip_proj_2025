<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冰島十月互動行程儀表板</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Arctic Calm -->
    <!-- Application Structure Plan: The application uses a fixed sidebar navigation (transforming to a top header on mobile) for selecting specific days, and a main content area that dynamically updates. This structure was chosen over a linear document format to provide rapid, non-linear access to any day's plan, which is highly user-friendly for trip planning and on-the-go reference. Each day's view includes a dashboard-style summary with key metrics (driving/activity time), an interactive timeline for detailed schedule exploration (with expandable notes), and a data visualization (donut chart) to give an immediate sense of the day's pacing. This design turns a static itinerary into an interactive planning tool. -->
    <!-- Visualization & Content Choices: 
    - Report Info: Daily schedule with driving and activity times. -> Goal: Show the balance and intensity of each day. -> Viz Method: Donut Chart (Chart.js/Canvas). -> Interaction: Hover to see exact hours. -> Justification: Provides a quick, scannable visual summary of the day's pacing, more intuitive than reading numbers alone.
    - Report Info: Step-by-step daily itinerary. -> Goal: Organize and present the schedule clearly. -> Presentation Method: Vertical Timeline (HTML/CSS). -> Interaction: Click to expand detailed notes for each event. -> Justification: A timeline is a natural and visually engaging way to represent a chronological sequence, and the collapsible notes keep the interface clean while allowing for deep dives into details.
    - Report Info: Key highlights for each day. -> Goal: Provide an at-a-glance summary. -> Presentation Method: Key Metric Cards (HTML/Tailwind). -> Interaction: Static display. -> Justification: Highlights the most important information at the top of the view for quick reference.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            background-color: #f8fafc; 
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            color: #1e293b;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap');

        .timeline-item {
            position: relative;
            padding-bottom: 2rem;
            padding-left: 2.5rem;
        }
        .timeline-item:last-child {
            padding-bottom: 0;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.5rem;
            width: 1px;
            height: 100%;
            background-color: #cbd5e1;
        }
        .timeline-dot {
            position: absolute;
            left: -0.4rem;
            top: 0.4rem;
            width: 0.875rem;
            height: 0.875rem;
            border-radius: 9999px;
            border: 2px solid #f8fafc;
            background-color: #475569;
            z-index: 10;
        }
        .nav-item.active {
            background-color: #3b82f6;
            color: #ffffff;
            font-weight: 500;
        }
        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .details-content.open {
            max-height: 1000px;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <div id="app" class="flex flex-col md:flex-row min-h-screen">
        <nav id="navigation" class="w-full md:w-64 bg-slate-800 text-white flex-shrink-0">
            <div class="p-4">
                <h1 class="text-xl font-bold text-center">冰島十月行程</h1>
                <p class="text-sm text-slate-300 text-center mt-1">互動儀表板</p>
            </div>
            <ul id="nav-list" class="p-2 space-y-2">
            </ul>
        </nav>
        <main id="main-content" class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto">
        </main>
    </div>

    <script>
        const tripData = [
            {
                day: 1,
                date: "10月11日",
                title: "抵達冰島，溫泉與市區補給",
                highlights: ["藍湖溫泉", "Costco 採買", "雷克雅維克市區"],
                drivingTime: 1.5,
                activityTime: 6.5,
                events: [
                    { time: "08:00", title: "抵達凱夫拉維克國際機場 (KEF)", details: "領取行李並準備前往租車公司。", type: "arrival" },
                    { time: "08:30-09:30", title: "Blue Car Rental 取車", details: "已租用兩台 Rav4，確保行李與乘坐空間充足。辦理手續時，請備妥所有駕駛的駕照正本與國際駕照。", type: "rental" },
                    { time: "11:00-13:00", title: "藍湖溫泉體驗", details: "務必提前預約，確保能準時入場。提早抵達可在咖啡廳休息或逛逛紀念品店。盡情放鬆身心，享受獨特的溫泉體驗。", type: "activity" },
                    { time: "14:00-16:00", title: "Costco 與 IKEA 採買", details: "準備接下來幾天的食物與日用品補給。由於團隊人數較多，在 Costco 採買會更划算。", type: "shopping" },
                    { time: "16:00-17:00", title: "前往雷克雅維克住宿", details: "安頓行李，稍作休息。", type: "lodging" },
                    { time: "17:00-19:00", title: "自由活動與市區探索", details: "可選擇在市區漫步，欣賞哈爾格林姆教堂、太陽航海者等地標，或是在住宿處休息。", type: "activity" },
                    { time: "19:00", title: "晚餐時間", details: "在住宿處準備晚餐，享受第一晚的悠閒時光。", type: "food" }
                ]
            },
            {
                day: 2,
                date: "10月12日",
                title: "黃金圈經典之旅",
                highlights: ["辛格維利爾國家公園", "蓋歇爾間歇泉", "黃金瀑布"],
                drivingTime: 3.5,
                activityTime: 6,
                events: [
                    { time: "09:00-10:00", title: "前往辛格維利爾國家公園", details: "探索歐亞與北美板塊的交界處，感受獨特的地理景觀。", type: "drive" },
                    { time: "10:00-12:00", title: "辛格維利爾國家公園 (Þingvellir)", details: "可在板塊裂谷中漫步，參觀法律石與古議會遺址。這裡是冰島歷史與地理的雙重聖地。", type: "activity" },
                    { time: "12:30-14:00", title: "前往蓋歇爾間歇泉區", details: "準備好相機，捕捉史托克間歇泉噴發的瞬間。", type: "drive" },
                    { time: "14:00-15:00", title: "蓋歇爾間歇泉 (Geysir)", details: "觀賞 Strokkur 間歇泉每隔 5-10 分鐘噴發一次的壯觀景象，感受地熱的威力。", type: "activity" },
                    { time: "15:00-15:30", title: "前往黃金瀑布", details: "準備感受冰島最宏偉瀑布之一的震撼。", type: "drive" },
                    { time: "15:30-16:30", title: "黃金瀑布 (Gullfoss)", details: "從不同角度欣賞這座雙層瀑布的磅礴氣勢，天氣好時還能看見彩虹。", type: "activity" },
                    { time: "16:30-17:30", title: "前往住宿點", details: "前往位於黃金圈區域的住宿點，辦理入住。", type: "drive" },
                    { time: "18:00", title: "晚餐與休息", details: "在住宿處準備晚餐，若天氣條件允許，晚上可留意極光。", type: "food" }
                ]
            },
            {
                day: 3,
                date: "10月13日",
                title: "南部海岸瀑布與黑沙灘",
                highlights: ["塞里雅蘭瀑布", "斯科加瀑布", "雷尼斯黑沙灘"],
                drivingTime: 3,
                activityTime: 5,
                events: [
                    { time: "09:00-10:30", title: "前往塞里雅蘭瀑布", details: "開啟南部海岸的探索之旅。", type: "drive" },
                    { time: "10:30-11:30", title: "塞里雅蘭瀑布 (Seljalandsfoss)", details: "可以走到瀑布後方，從獨特視角欣賞水濂洞景觀。記得穿防水衣物。", type: "activity" },
                    { time: "11:30-12:00", title: "前往斯科加瀑布", details: "車程很短，很快就能抵達下一站。", type: "drive" },
                    { time: "12:00-13:30", title: "斯科加瀑布 (Skógafoss)", details: "又稱彩虹瀑布，可以沿著旁邊的階梯登上瀑布頂端，俯瞰壯麗景色。在此享用午餐。", type: "activity" },
                    { time: "13:30-14:00", title: "前往飛機殘骸停車場", details: "可選擇是否前往，需考量來回步行時間。", type: "drive" },
                    { time: "14:00-15:30", title: "DC-3 飛機殘骸 (可選)", details: "從停車場步行至殘骸處來回約需 1.5-2 小時。若時間或體力有限可跳過。", type: "activity" },
                    { time: "16:00-17:30", title: "雷尼斯黑沙灘 (Reynisfjara)", details: "欣賞玄武岩柱、海蝕洞與黑色的沙灘。務必注意瘋狗浪，與海岸保持安全距離！", type: "activity" },
                    { time: "17:30-18:00", title: "前往維克鎮 (Vík)", details: "抵達維克鎮，辦理住宿與採買。", type: "drive" },
                    { time: "18:00", title: "晚餐與休息", details: "在維克鎮準備晚餐，晚上可到維克教堂附近等待極光。", type: "food" }
                ]
            },
            {
                day: 4,
                date: "10月14日",
                title: "冰川健行與冰河湖奇觀",
                highlights: ["冰川健行", "傑古沙龍冰河湖", "鑽石沙灘"],
                drivingTime: 3.5,
                activityTime: 7,
                events: [
                    { time: "08:30-10:00", title: "前往冰川健行集合點", details: "務必提前抵達，參加預約好的冰川健行活動。", type: "drive" },
                    { time: "10:00-14:00", title: "索爾黑馬冰川健行 (Sólheimajökull)", details: "參加約 3-4 小時的冰川健行團，穿上專業裝備，在專業嚮導帶領下探索藍色冰川的奧秘。活動包含午餐時間。", type: "activity" },
                    { time: "14:00-16:00", title: "前往傑古沙龍冰河湖", details: "沿途風景壯麗，可欣賞瓦特納冰川的廣闊景色。", type: "drive" },
                    { time: "16:00-17:30", title: "傑古沙龍冰河湖 (Jökulsárlón)", details: "欣賞巨大的浮冰在湖中漂流，幸運的話還能看到海豹。可選擇搭乘水陸兩用船遊湖。", type: "activity" },
                    { time: "17:30-18:00", title: "鑽石沙灘 (Diamond Beach)", details: "就在冰河湖對面，觀賞被沖上岸的大小冰塊在黑沙灘上閃閃發光，如鑽石一般。", type: "activity" },
                    { time: "18:00-18:30", title: "前往赫本鎮 (Höfn) 附近住宿", details: "辦理入住手續。", type: "drive" },
                    { time: "19:00", title: "晚餐", details: "赫本鎮以龍蝦聞名，可考慮在此享用龍蝦大餐，或自行準備晚餐。", type: "food" }
                ]
            },
            {
                day: 5,
                date: "10月15日",
                title: "東部峽灣的壯麗風光",
                highlights: ["都皮沃古爾鎮", "峽灣公路風光", "埃伊爾斯塔濟"],
                drivingTime: 4.5,
                activityTime: 4,
                events: [
                    { time: "09:00-10:30", title: "前往都皮沃古爾 (Djúpivogur)", details: "開始東部峽灣的旅程，沿途欣賞海岸線風光。", type: "drive" },
                    { time: "10:30-11:30", title: "都皮沃古爾鎮與蛋雕", details: "一個寧靜的漁村，可在港口欣賞名為「世界之蛋」的戶外藝術品。", type: "activity" },
                    { time: "11:30-13:30", title: "沿著東部峽灣公路行駛", details: "這段路程是東部峽灣的精華，路況多彎，請小心駕駛。沿途有多個觀景點可以停車拍照，並在途中找地方享用午餐。", type: "drive" },
                    { time: "13:30-14:30", title: "法斯克魯斯菲厄澤 (Fáskrúðsfjörður)", details: "一個充滿法國風情的小鎮，路牌皆有法文標示，可以短暫停留感受不同文化。", type: "activity" },
                    { time: "14:30-15:30", title: "前往埃伊爾斯塔濟 (Egilsstaðir)", details: "抵達東部最大城鎮。", type: "drive" },
                    { time: "15:30-17:00", title: "埃伊爾斯塔濟市區補給與休息", details: "在鎮上超市進行補給，並辦理住宿。", type: "lodging" },
                    { time: "17:00-18:00", title: "拉加爾湖 (Lagarfljót) 湖畔漫步", details: "據說湖中有水怪，可以在湖邊散步，欣賞寧靜的湖景。", type: "activity" },
                    { time: "18:30", title: "晚餐", details: "在住宿處準備晚餐。", type: "food" }
                ]
            },
            {
                day: 6,
                date: "10月16日",
                title: "米湖鑽石圈的奇幻地貌",
                highlights: ["黛提瀑布", "Hverir 地熱區", "米湖天然溫泉"],
                drivingTime: 3.5,
                activityTime: 5.5,
                events: [
                    { time: "09:00-11:00", title: "前往黛提瀑布 (Dettifoss)", details: "前往歐洲水量最大的瀑布，感受其驚人威力。十月路況需特別注意，建議走西側 862 號柏油路。", type: "drive" },
                    { time: "11:00-12:00", title: "黛提瀑布", details: "近距離感受瀑布的震撼，水氣非常大，請做好防水措施。", type: "activity" },
                    { time: "12:00-13:00", title: "前往 Hverir 地熱區", details: "準備迎接外星球般的景觀。", type: "drive" },
                    { time: "13:00-14:00", title: "Hverir 地熱區", details: "欣賞冒著煙的硫磺泉、沸騰的泥漿池，空氣中瀰漫著濃厚的硫磺味，景色非常奇特。", type: "activity" },
                    { time: "14:00-14:30", title: "前往米湖 (Mývatn) 區域", details: "抵達米湖，準備探索周邊景點。", type: "drive" },
                    { time: "14:30-16:00", title: "黑色城堡 (Dimmuborgir) & 偽火山口", details: "探索奇形怪狀的火山熔岩地貌，並可開車環湖欣賞偽火山口群。", type: "activity" },
                    { time: "16:30-18:30", title: "米湖天然溫泉 (Mývatn Nature Baths)", details: "享受有「北方藍湖」之稱的溫泉，比藍湖更為寧靜，價格也較實惠。", type: "activity" },
                    { time: "19:00", title: "晚餐與入住", details: "在米湖附近的住宿點準備晚餐，此區光害少，是絕佳的極光觀賞點。", type: "food" }
                ]
            },
            {
                day: 7,
                date: "10月17日",
                title: "北方之都與眾神瀑布",
                highlights: ["眾神瀑布", "阿克雷里", "聖誕屋"],
                drivingTime: 2.5,
                activityTime: 6,
                events: [
                    { time: "09:30-10:15", title: "前往眾神瀑布 (Goðafoss)", details: "告別米湖，前往下一個壯觀的瀑布。", type: "drive" },
                    { time: "10:15-11:15", title: "眾神瀑布", details: "欣賞這座與冰島歷史緊密相連的美麗馬蹄形瀑布。", type: "activity" },
                    { time: "11:15-12:00", title: "前往阿克雷里 (Akureyri)", details: "抵達冰島北部第一大城，感受都市氣息。", type: "drive" },
                    { time: "12:00-14:00", title: "阿克雷里市區觀光與午餐", details: "參觀阿克雷里大教堂，在市中心逛街，並享用午餐。推薦品嚐當地有名的熱狗。", type: "activity" },
                    { time: "14:00-15:00", title: "聖誕屋 (Jólagarðurinn)", details: "一個全年都充滿聖誕氣氛的可愛小店，非常適合拍照與購買紀念品。", type: "activity" },
                    { time: "15:00-17:00", title: "自由活動或參加觀鯨團", details: "可選擇在阿克雷里繼續悠閒逛街，或參加從市區出發的觀鯨行程 (需提前預約)。", type: "activity" },
                    { time: "17:00-18:00", title: "前往住宿點與補給", details: "在阿克雷里市區的超市進行補給，然後前往住宿點。", type: "lodging" },
                    { time: "18:30", title: "晚餐", details: "準備晚餐，享受在北方之都的夜晚。", type: "food" }
                ]
            },
            {
                day: 8,
                date: "10月18日",
                title: "西部峽灣前哨與海豹蹤跡",
                highlights: ["犀牛石", "華姆斯唐吉", "布扎達呂爾"],
                drivingTime: 4.5,
                activityTime: 3.5,
                events: [
                    { time: "09:00-12:00", title: "長途駕駛前往犀牛石", details: "這是一段較長的車程，途中可以在格勒納達爾 (Glaumbær) 停留，參觀草頂屋博物館。", type: "drive" },
                    { time: "12:00-13:30", title: "犀牛石 (Hvítserkur)", details: "欣賞佇立在海中的奇特玄武岩，狀似犀牛。退潮時可以走近觀看。在此享用午餐。", type: "activity" },
                    { time: "13:30-14:30", title: "前往華姆斯唐吉 (Hvammstangi)", details: "這裡是冰島的海豹之都。", type: "drive" },
                    { time: "14:30-16:00", title: "冰島海豹中心與海豹觀賞點", details: "可參觀海豹中心了解相關知識，再開車到附近的海灘尋找野生海豹的蹤跡。", type: "activity" },
                    { time: "16:00-18:30", title: "前往布扎達呂爾 (Búðardalur)", details: "繼續往斯奈山半島的方向前進，抵達今晚的住宿小鎮。", type: "drive" },
                    { time: "18:30", title: "抵達並安頓", details: "在布扎達呂爾安頓行李，並在小鎮進行補給。", type: "lodging" },
                    { time: "19:30", title: "晚餐", details: "可以在小鎮準備晚餐，享受寧靜的夜晚。", type: "food" }
                ]
            },
            {
                day: 9,
                date: "10月19日",
                title: "斯奈山半島全日探索",
                highlights: ["教會山", "黑沙灘", "阿爾納斯塔皮"],
                drivingTime: 4,
                activityTime: 5,
                events: [
                    { time: "08:30-10:45", title: "前往格倫達菲厄澤 (Grundarfjörður)", details: "從布扎達呂爾出發，逆時針遊覽斯奈山半島。途中可在觀景點停留。抵達小鎮後先去超市採買午晚餐食材。", type: "drive" },
                    { time: "11:30-12:30", title: "教會山 (Kirkjufell)", details: "欣賞半島最上鏡的山脈，可從不同角度拍攝這座山與旁邊的教會山瀑布，並在此享用午餐。", type: "activity" },
                    { time: "13:00-13:30", title: "Ingjaldshólskirkja 教堂", details: "傳聞中的「視力檢查小屋」，一座以紅頂聞名的教堂。", type: "activity" },
                    { time: "14:00-15:00", title: "阿爾納斯塔皮 & 海蝕洞 (Arnarstapi)", details: "沿著海岸線步道健行，欣賞壯觀的海蝕洞、玄武岩柱和奇特的海蝕門 (Gatklettur)。", type: "activity" },
                    { time: "15:30-16:00", title: "Búðakirkja 黑教堂", details: "一座矗立在熔岩地中的全黑木造教堂，風格獨特，是熱門的攝影地點。", type: "activity" },
                    { time: "16:00-16:30", title: "Ytri Tunga 海灘", details: "這裡是觀賞海豹的著名地點，可以試著尋找在岩石上曬太陽的海豹。", type: "activity" },
                    { time: "16:30-18:00", title: "返回住宿點", details: "開車返回半島上的住宿點。", type: "drive" },
                    { time: "18:30", title: "晚餐", details: "準備晚餐，回味一天豐富的行程。", type: "food" }
                ]
            },
            {
                day: 10,
                date: "10月20日",
                title: "斯奈山半島至雷克雅維克",
                highlights: ["博爾加內斯", "鯨魚峽灣", "雷克雅維克市區"],
                drivingTime: 3.5,
                activityTime: 4.5,
                events: [
                    { time: "09:00-10:30", title: "前往博爾加內斯 (Borgarnes)", details: "離開斯奈山半島，往首都方向前進。", type: "drive" },
                    { time: "10:30-12:00", title: "博爾加內斯鎮", details: "可以在鎮上的咖啡館休息，或參觀定居中心 (Settlement Center) 了解冰島的維京歷史。", type: "activity" },
                    { time: "12:00-13:30", title: "午餐與鯨魚峽灣 (Hvalfjörður)", details: "可選擇不走海底隧道，改走風景優美的鯨魚峽灣公路 (47號公路)，多花約一小時，但風景值得。在途中享用午餐。", type: "drive" },
                    { time: "13:30-15:00", title: "前往雷克雅維克", details: "返回首都，準備享受最後的城市時光。", type: "drive" },
                    { time: "15:00", title: "抵達雷克雅維克住宿", details: "辦理入住，稍作休息。", type: "lodging" },
                    { time: "15:30-18:30", title: "市區購物與最後巡禮", details: "可以在 Laugavegur 主街上逛街，購買紀念品，或是重遊之前錯過的地標。", type: "activity" },
                    { time: "19:00", title: "告別晚餐", details: "可以選擇一家評價好的餐廳，享用在冰島的最後一頓晚餐。", type: "food" }
                ]
            },
            {
                day: 11,
                date: "10月21日",
                title: "火山探險或城市悠遊",
                highlights: ["法格拉達爾火山", "雷克雅維克博物館", "自由活動"],
                drivingTime: 2,
                activityTime: 6,
                events: [
                    { time: "Morning", title: "方案 A：火山健行之旅", details: "若體力允許且對火山地貌有興趣，可開車前往法格拉達爾火山 (Fagradalsfjall) 區域健行 (來回約 2-3 小時)，欣賞新生熔岩地。請務必查詢當時的開放與安全狀況。", type: "activity" },
                    { time: "Morning", title: "方案 B：雷克雅維克深度文化遊", details: "如果不選擇健行，可以在市區參觀國家博物館、陽具博物館或 Perlan 珍珠樓，深入了解冰島的歷史與自然。", type: "activity" },
                    { time: "13:00-14:00", title: "午餐", details: "根據上午的行程選擇用餐地點。", type: "food" },
                    { time: "14:00-17:00", title: "最後的採買與打包", details: "進行最後的紀念品採買，並返回住宿處整理行李。", type: "shopping" },
                    { time: "17:00-18:00", title: "前往機場附近住宿", details: "為隔天清晨的班機做準備，提前入住機場附近的飯店。", type: "drive" },
                    { time: "18:30", title: "晚餐", details: "在飯店附近或飯店內享用簡單的晚餐。", type: "food" }
                ]
            },
            {
                day: 12,
                date: "10月22日",
                title: "還車與返程",
                highlights: ["還車", "機場報到", "快樂賦歸"],
                drivingTime: 0.5,
                activityTime: 2.5,
                events: [
                    { time: "05:00", title: "起床與整理", details: "準備前往還車與機場報到。", type: "lodging" },
                    { time: "05:30-06:00", title: "前往 Blue Car Rental 還車", details: "將車輛加滿油後，前往租車公司還車。預留足夠時間辦理手續。", type: "rental" },
                    { time: "06:00-06:30", title: "搭乘接駁車前往機場", details: "租車公司通常會提供前往機場的接駁服務。", type: "drive" },
                    { time: "06:30-08:30", title: "機場報到與行李托運", details: "辦理登機手續、托運行李並通過安檢。", type: "departure" },
                    { time: "08:30", title: "航班起飛", details: "帶著滿滿的回憶，結束愉快的冰島之旅。", type: "departure" }
                ]
            }
        ];

        let currentChart = null;

        document.addEventListener('DOMContentLoaded', () => {
            const navList = document.getElementById('nav-list');
            tripData.forEach((dayData, index) => {
                const li = document.createElement('li');
                const button = document.createElement('button');
                button.textContent = `第 ${dayData.day} 天: ${dayData.title}`;
                button.className = 'w-full text-left p-3 rounded-md hover:bg-slate-700 transition-colors duration-200 nav-item text-sm';
                button.dataset.dayIndex = index;
                button.addEventListener('click', () => {
                    renderDay(index);
                    document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
                    button.classList.add('active');
                });
                li.appendChild(button);
                navList.appendChild(li);
            });
            renderWelcome();
        });

        function renderWelcome() {
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = `
                <div class="text-center flex flex-col items-center justify-center h-full">
                    <h2 class="text-4xl font-bold text-slate-700 mb-2">歡迎來到您的冰島之旅</h2>
                    <p class="text-lg text-slate-500">請從左側選擇一天開始探索詳細行程。</p>
                    <div class="mt-8 p-6 bg-white rounded-xl shadow-lg max-w-2xl w-full">
                        <h3 class="text-xl font-semibold mb-4 text-slate-800">行程總覽</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                            <div>
                                <p class="text-3xl font-bold text-blue-600">${tripData.length}</p>
                                <p class="text-slate-500">總天數</p>
                            </div>
                            <div>
                                <p class="text-3xl font-bold text-blue-600">${tripData.reduce((acc, day) => acc + day.drivingTime, 0).toFixed(1)}</p>
                                <p class="text-slate-500">總駕駛時數 (小時)</p>
                            </div>
                            <div>
                                <p class="text-3xl font-bold text-blue-600">${tripData.reduce((acc, day) => acc + day.activityTime, 0).toFixed(1)}</p>
                                <p class="text-slate-500">總活動時數 (小時)</p>
                            </div>
                        </div>
                         <p class="text-sm text-slate-400 mt-6">這份互動報告將您的行程規劃視覺化，幫助您更好地掌握每日的節奏與重點。祝您旅途愉快！</p>
                    </div>
                </div>
            `;
        }

        function renderDay(dayIndex) {
            const dayData = tripData[dayIndex];
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = '';

            const header = document.createElement('div');
            header.className = 'mb-6 pb-4 border-b border-slate-200';
            header.innerHTML = `
                <h2 class="text-3xl font-bold text-slate-800">第 ${dayData.day} 天: ${dayData.title}</h2>
                <p class="text-md text-slate-500 mt-1">${dayData.date}</p>
            `;
            mainContent.appendChild(header);

            const contentGrid = document.createElement('div');
            contentGrid.className = 'grid grid-cols-1 lg:grid-cols-3 gap-6';
            
            const timelineContainer = document.createElement('div');
            timelineContainer.className = 'lg:col-span-2 bg-white p-6 rounded-xl shadow-lg';
            
            const timelineTitle = document.createElement('h3');
            timelineTitle.className = "text-xl font-semibold mb-4 text-slate-800";
            timelineTitle.textContent = "詳細時間軸";
            timelineContainer.appendChild(timelineTitle);

            const timeline = document.createElement('div');
            timeline.className = 'relative';

            dayData.events.forEach(event => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                item.innerHTML = `
                    <div class="timeline-dot"></div>
                    <div class="font-semibold text-slate-600">${event.time}</div>
                    <div class="text-lg font-medium text-slate-900 mt-1">${event.title}</div>
                    <div class="mt-2">
                        <button class="text-sm text-blue-600 hover:underline focus:outline-none toggle-details">顯示/隱藏詳細資訊</button>
                        <div class="details-content mt-2 text-slate-600 text-sm leading-relaxed">
                           <p>${event.details}</p>
                        </div>
                    </div>
                `;
                timeline.appendChild(item);
            });
            timelineContainer.appendChild(timeline);
            contentGrid.appendChild(timelineContainer);

            const sidebar = document.createElement('div');
            sidebar.className = 'lg:col-span-1 space-y-6';

            const highlightsCard = document.createElement('div');
            highlightsCard.className = 'bg-white p-6 rounded-xl shadow-lg';
            highlightsCard.innerHTML = `
                <h3 class="text-xl font-semibold mb-4 text-slate-800">當日亮點</h3>
                <ul class="space-y-2">
                    ${dayData.highlights.map(h => `<li class="flex items-center"><span class="text-blue-500 mr-2">✦</span>${h}</li>`).join('')}
                </ul>
            `;
            sidebar.appendChild(highlightsCard);

            const chartCard = document.createElement('div');
            chartCard.className = 'bg-white p-6 rounded-xl shadow-lg';
            chartCard.innerHTML = `
                <h3 class="text-xl font-semibold mb-4 text-slate-800">時間分配</h3>
                <div class="chart-container">
                    <canvas id="dayChart"></canvas>
                </div>
            `;
            sidebar.appendChild(chartCard);
            contentGrid.appendChild(sidebar);
            mainContent.appendChild(contentGrid);

            if (currentChart) {
                currentChart.destroy();
            }

            const ctx = document.getElementById('dayChart').getContext('2d');
            currentChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['駕駛時間 (小時)', '活動時間 (小時)'],
                    datasets: [{
                        data: [dayData.drivingTime, dayData.activityTime],
                        backgroundColor: ['#60a5fa', '#3b82f6'],
                        borderColor: '#ffffff',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14,
                                    family: "'Inter', 'Noto Sans TC', sans-serif"
                                }
                            }
                        },
                        tooltip: {
                            bodyFont: {
                                size: 14,
                                family: "'Inter', 'Noto Sans TC', sans-serif"
                            },
                            titleFont: {
                                size: 14,
                                family: "'Inter', 'Noto Sans TC', sans-serif"
                            },
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.raw} 小時`;
                                }
                            }
                        }
                    }
                }
            });
            
            document.querySelectorAll('.toggle-details').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    content.classList.toggle('open');
                });
            });
        }
    </script>
</body>
</html>
